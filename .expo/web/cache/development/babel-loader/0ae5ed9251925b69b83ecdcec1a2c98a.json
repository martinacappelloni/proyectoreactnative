{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { auth } from \"../firebase/config\";\nimport Home from \"../screens/home\";\nimport Login from \"../screens/login\";\nimport Register from \"../screens/register\";\nimport Profile from \"../screens/profile\";\nimport PostForm from \"../screens/postForm\";\nvar Drawer = createDrawerNavigator();\n\nvar Menu = function (_Component) {\n  _inherits(Menu, _Component);\n\n  var _super = _createSuper(Menu);\n\n  function Menu() {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    _this = _super.call(this);\n    _this.state = {\n      loggedIn: false,\n      userData: '',\n      errorMessage: '',\n      errorCode: ''\n    };\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      auth.onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            loggedIn: true,\n            userData: user\n          });\n        }\n      });\n    }\n  }, {\n    key: \"register\",\n    value: function register(email, user, pass) {\n      var _this3 = this;\n\n      auth.createUserWithEmailAndPassword(email, user, pass).then(function () {\n        console.log('registrado');\n      }).catch(function (error) {\n        console.log(error);\n\n        _this3.setState({\n          errorMessage: error.message,\n          errorCode: error.code\n        });\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(email, pass) {\n      var _this4 = this;\n\n      auth.signInWithEmailAndPassword(email, pass).then(function (res) {\n        console.log('Logueado');\n        console.log(res);\n\n        _this4.setState({\n          loggedIn: true,\n          userData: res.user\n        });\n      }).catch(function (error) {\n        console.log(error);\n\n        _this4.setState({\n          errorMessage: error.message,\n          errorCode: error.code\n        });\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this5 = this;\n\n      auth.signOut().then(function (res) {\n        _this5.setState({\n          loggedIn: false,\n          userData: ''\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(NavigationContainer, null, this.state.loggedIn == false ? React.createElement(Drawer.Navigator, null, React.createElement(Drawer.Screen, {\n        name: \"Login\",\n        component: function component() {\n          return React.createElement(Login, {\n            login: function login(email, pass) {\n              return _this6.login(email, pass);\n            },\n            errorMessage: _this6.state.errorMessage,\n            errorCode: _this6.state.errorCode\n          });\n        }\n      }), React.createElement(Drawer.Screen, {\n        name: \"Registro\",\n        component: function component() {\n          return React.createElement(Register, {\n            register: function register(email, pass) {\n              return _this6.register(email, pass);\n            },\n            errorMessage: _this6.state.errorMessage,\n            errorCode: _this6.state.errorCode\n          });\n        }\n      })) : React.createElement(Drawer.Navigator, null, React.createElement(Drawer.Screen, {\n        name: \"Home\",\n        component: function component() {\n          return React.createElement(Home, null);\n        }\n      }), React.createElement(Drawer.Screen, {\n        name: \"Nuevo Post\",\n        component: function component(drawerProps) {\n          return React.createElement(PostForm, {\n            drawerProps: drawerProps\n          });\n        }\n      }), React.createElement(Drawer.Screen, {\n        name: \"Mi Perfil\",\n        component: function component() {\n          return React.createElement(Profile, {\n            logout: function logout() {\n              return _this6.logout();\n            },\n            userData: _this6.state.userData\n          });\n        }\n      })));\n    }\n  }]);\n\n  return Menu;\n}(Component);\n\nexport default Menu;","map":{"version":3,"sources":["/Users/martinacappelloni/Documents/UdeSA/Segundo Año/Programación III/proyectoreactnative/src/components/menu.js"],"names":["React","Component","NavigationContainer","createDrawerNavigator","auth","Home","Login","Register","Profile","PostForm","Drawer","Menu","state","loggedIn","userData","errorMessage","errorCode","onAuthStateChanged","user","setState","email","pass","createUserWithEmailAndPassword","then","console","log","catch","error","message","code","signInWithEmailAndPassword","res","signOut","login","register","drawerProps","logout"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,qBAAT,QAAsC,0BAAtC;AACA,SAASC,IAAT;AAEA,OAAOC,IAAP;AACA,OAAOC,KAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACA,OAAOC,QAAP;AAEA,IAAMC,MAAM,GAAGP,qBAAqB,EAApC;;IAEMQ,I;;;;;AACF,kBAAa;AAAA;;AAAA;;AACT;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,YAAY,EAAE,EAHL;AAITC,MAAAA,SAAS,EAAE;AAJF,KAAb;AAFS;AAQZ;;;;WAED,6BAAmB;AAAA;;AACfZ,MAAAA,IAAI,CAACa,kBAAL,CAAwB,UAAAC,IAAI,EAAI;AAC5B,YAAGA,IAAH,EAAQ;AACJ,UAAA,MAAI,CAACC,QAAL,CAAc;AACVN,YAAAA,QAAQ,EAAE,IADA;AAEVC,YAAAA,QAAQ,EAAEI;AAFA,WAAd;AAIH;AACJ,OAPD;AAQH;;;WAED,kBAASE,KAAT,EAAeF,IAAf,EAAqBG,IAArB,EAA0B;AAAA;;AACtBjB,MAAAA,IAAI,CAACkB,8BAAL,CAAoCF,KAApC,EAA0CF,IAA1C,EAAgDG,IAAhD,EACKE,IADL,CACU,YAAM;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,OAHL,EAIKC,KAJL,CAIW,UAAAC,KAAK,EAAI;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;;AACA,QAAA,MAAI,CAACR,QAAL,CAAc;AACVJ,UAAAA,YAAY,EAAEY,KAAK,CAACC,OADV;AAEVZ,UAAAA,SAAS,EAAEW,KAAK,CAACE;AAFP,SAAd;AAIH,OAVL;AAWH;;;WAED,eAAMT,KAAN,EAAaC,IAAb,EAAkB;AAAA;;AACdjB,MAAAA,IAAI,CAAC0B,0BAAL,CAAgCV,KAAhC,EAAuCC,IAAvC,EACCE,IADD,CACM,UAAAQ,GAAG,EAAI;AACTP,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;;AACA,QAAA,MAAI,CAACZ,QAAL,CAAc;AACVN,UAAAA,QAAQ,EAAE,IADA;AAEVC,UAAAA,QAAQ,EAAEiB,GAAG,CAACb;AAFJ,SAAd;AAIH,OARD,EASCQ,KATD,CASO,UAAAC,KAAK,EAAI;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;;AACA,QAAA,MAAI,CAACR,QAAL,CAAc;AACdJ,UAAAA,YAAY,EAAEY,KAAK,CAACC,OADN;AAEdZ,UAAAA,SAAS,EAAEW,KAAK,CAACE;AAFH,SAAd;AAIH,OAfD;AAgBH;;;WAED,kBAAQ;AAAA;;AACJzB,MAAAA,IAAI,CAAC4B,OAAL,GACCT,IADD,CACM,UAAAQ,GAAG,EAAI;AACT,QAAA,MAAI,CAACZ,QAAL,CAAc;AACVN,UAAAA,QAAQ,EAAE,KADA;AAEVC,UAAAA,QAAQ,EAAE;AAFA,SAAd;AAIH,OAND;AAOH;;;WAED,kBAAQ;AAAA;;AACJ,aACI,oBAAC,mBAAD,QACC,KAAKF,KAAL,CAAWC,QAAX,IAAuB,KAAvB,GACG,oBAAC,MAAD,CAAQ,SAAR,QACI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,OAApB;AAA4B,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,KAAD;AAAO,YAAA,KAAK,EAAE,eAACO,KAAD,EAAQC,IAAR;AAAA,qBAAiB,MAAI,CAACY,KAAL,CAAWb,KAAX,EAAkBC,IAAlB,CAAjB;AAAA,aAAd;AAAwD,YAAA,YAAY,EAAE,MAAI,CAACT,KAAL,CAAWG,YAAjF;AAA+F,YAAA,SAAS,EAAE,MAAI,CAACH,KAAL,CAAWI;AAArH,YAAN;AAAA;AAAvC,QADJ,EAEI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,UAApB;AAA+B,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,QAAQ,EAAE,kBAACI,KAAD,EAAQC,IAAR;AAAA,qBAAiB,MAAI,CAACa,QAAL,CAAcd,KAAd,EAAqBC,IAArB,CAAjB;AAAA,aAApB;AAAiE,YAAA,YAAY,EAAE,MAAI,CAACT,KAAL,CAAWG,YAA1F;AAAwG,YAAA,SAAS,EAAE,MAAI,CAACH,KAAL,CAAWI;AAA9H,YAAN;AAAA;AAA1C,QAFJ,CADH,GAKG,oBAAC,MAAD,CAAQ,SAAR,QACI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,MAApB;AAA2B,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,IAAD,OAAN;AAAA;AAAtC,QADJ,EAEI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,YAApB;AAAiC,QAAA,SAAS,EAAE,mBAACmB,WAAD;AAAA,iBAAiB,oBAAC,QAAD;AAAU,YAAA,WAAW,EAAEA;AAAvB,YAAjB;AAAA;AAA5C,QAFJ,EAGI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,WAApB;AAAgC,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,OAAD;AAAS,YAAA,MAAM,EAAG;AAAA,qBAAM,MAAI,CAACC,MAAL,EAAN;AAAA,aAAlB;AAAuC,YAAA,QAAQ,EAAE,MAAI,CAACxB,KAAL,CAAWE;AAA5D,YAAN;AAAA;AAA3C,QAHJ,CANJ,CADJ;AAeH;;;;EAjFcb,S;;AAoFnB,eAAeU,IAAf","sourcesContent":["import React, {Component} from 'react'\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { auth } from \"../firebase/config\";\n\nimport Home from '../screens/home'\nimport Login from '../screens/login'\nimport Register from '../screens/register'\nimport Profile from '../screens/profile'\nimport PostForm from '../screens/postForm'\n\nconst Drawer = createDrawerNavigator();\n\nclass Menu extends Component{\n    constructor(){\n        super();\n        this.state = {\n            loggedIn: false,\n            userData: '',\n            errorMessage: '',\n            errorCode: '',\n        }\n    }\n\n    componentDidMount(){\n        auth.onAuthStateChanged(user => {\n            if(user){\n                this.setState({\n                    loggedIn: true,\n                    userData: user,\n                })\n            }   \n        })\n    }\n\n    register(email,user, pass){\n        auth.createUserWithEmailAndPassword(email,user, pass)\n            .then(() => {\n                console.log('registrado')\n            })\n            .catch(error => {\n                console.log(error)\n                this.setState({\n                    errorMessage: error.message,\n                    errorCode: error.code,\n                })\n            })\n    }\n\n    login(email, pass){\n        auth.signInWithEmailAndPassword(email, pass)\n        .then(res => {\n            console.log('Logueado')\n            console.log(res)\n            this.setState({\n                loggedIn: true,\n                userData: res.user,\n            })\n        }) \n        .catch(error => {\n            console.log(error)\n            this.setState({\n            errorMessage: error.message,\n            errorCode: error.code,\n            })\n        })\n    }\n\n    logout(){\n        auth.signOut() //deslogueamos de firebase y elimina los datos internos del usuario\n        .then(res => {\n            this.setState({\n                loggedIn: false,\n                userData: '',\n            })\n        }) \n    }\n\n    render(){\n        return(\n            <NavigationContainer>\n            {this.state.loggedIn == false ?\n                <Drawer.Navigator>\n                    <Drawer.Screen name='Login' component={() => <Login login={(email, pass) => this.login(email, pass)} errorMessage={this.state.errorMessage} errorCode={this.state.errorCode} />} />\n                    <Drawer.Screen name='Registro' component={() => <Register register={(email, pass) => this.register(email, pass)} errorMessage={this.state.errorMessage} errorCode={this.state.errorCode}/>} />\n                </Drawer.Navigator> :\n                <Drawer.Navigator>\n                    <Drawer.Screen name='Home' component={() => <Home />} />\n                    <Drawer.Screen name='Nuevo Post' component={(drawerProps) => <PostForm drawerProps={drawerProps} />} />\n                    <Drawer.Screen name='Mi Perfil' component={() => <Profile logout={ () => this.logout()} userData={this.state.userData} />} />\n                </Drawer.Navigator>\n            }\n            </NavigationContainer> \n        )\n    }\n}\n\nexport default Menu"]},"metadata":{},"sourceType":"module"}