{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { auth, db } from \"../firebase/config\";\nimport MyCamera from \"../components/MyCamera\";\n\nvar PostForm = function (_Component) {\n  _inherits(PostForm, _Component);\n\n  var _super = _createSuper(PostForm);\n\n  function PostForm(props) {\n    var _this;\n\n    _classCallCheck(this, PostForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      textoPost: '',\n      showCamera: true\n    };\n    return _this;\n  }\n\n  _createClass(PostForm, [{\n    key: \"submitPost\",\n    value: function submitPost() {\n      var _this2 = this;\n\n      console.log('posteando..');\n      db.collection('posts').add({\n        owner: auth.currentUser.email,\n        texto: this.state.textoPost,\n        createdAt: Date.now(),\n        photo: this.state.url\n      }).then(function () {\n        _this2.setState({\n          textoPost: ''\n        });\n\n        _this2.props.drawerProps.navigation.navigate('Home');\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    }\n  }, {\n    key: \"onImageUpload\",\n    value: function onImageUpload(url) {\n      this.setState({\n        showCamera: false,\n        url: url\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container\n      }, this.state.showCamera ? React.createElement(MyCamera, {\n        onImageUpload: function onImageUpload(url) {\n          _this3.onImageUpload(url);\n        }\n      }) : React.createElement(View, {\n        style: styles.formContainer\n      }, React.createElement(TextInput, {\n        style: styles.field,\n        keyboardType: \"default\",\n        multiline: true,\n        placeholder: \"Escrib\\xED aqu\\xED\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            textoPost: text\n          });\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.boton,\n        onPress: function onPress() {\n          return _this3.submitPost();\n        }\n      }, React.createElement(Text, {\n        style: styles.textboton\n      }, \" Guardar \"))));\n    }\n  }]);\n\n  return PostForm;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  formContainer: {\n    paddingHorizontal: 10,\n    marginBottom: 20\n  },\n  field: {\n    height: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderStyle: 'solid',\n    borderRadius: 6,\n    marginVertical: 10\n  },\n  boton: {\n    backgroundColor: '#28a745',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    textAlign: 'center',\n    borderRadius: 4,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#28a745'\n  },\n  textboton: {\n    color: '#fff'\n  }\n});\nexport default PostForm;","map":{"version":3,"sources":["/Users/morabaylac/Desktop/proyectoreactnative/src/screens/postForm.js"],"names":["React","Component","auth","db","MyCamera","PostForm","props","state","textoPost","showCamera","console","log","collection","add","owner","currentUser","email","texto","createdAt","Date","now","photo","url","then","setState","drawerProps","navigation","navigate","catch","e","styles","container","onImageUpload","formContainer","field","text","boton","submitPost","textboton","StyleSheet","create","flex","paddingHorizontal","marginBottom","height","paddingVertical","borderWidth","borderColor","borderStyle","borderRadius","marginVertical","backgroundColor","textAlign","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Text, TouchableOpacity, View, StyleSheet, Image, ActivityIndicator, FlatList, TextInput} from 'react-native'\nimport {auth, db} from '../firebase/config'\nimport MyCamera from '../components/MyCamera';\n\n\n\nclass PostForm extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            textoPost: '',\n            showCamera: true,\n        }\n    }\n    submitPost(){\n        console.log('posteando..');\n        db.collection('posts').add({\n            owner: auth.currentUser.email,\n            texto: this.state.textoPost,\n            createdAt: Date.now(),\n            photo: this.state.url,\n        })\n        .then(() =>{ \n            this.setState({\n                textoPost: ''\n            })\n            // Redirección\n            this.props.drawerProps.navigation.navigate('Home')\n        })\n        .catch( e => console.log(e))\n    }\n    onImageUpload(url){\n        this.setState({\n            showCamera: false,\n            url: url,\n        })\n    }\n    \n    render(){\n        return(\n            <View style={styles.container}>\n                {\n                this.state.showCamera ?\n                <MyCamera onImageUpload={(url)=> {this.onImageUpload(url)}}/>:\n                <View style={styles.formContainer}>\n                <TextInput style={styles.field} \n                keyboardType='default'\n                multiline\n                placeholder='Escribí aquí'\n                onChangeText={ text => this.setState({textoPost:text}) }/>\n            \n                <TouchableOpacity style={styles.boton} onPress={() => this.submitPost()}>\n                <Text style={styles.textboton}> Guardar </Text> \n                </TouchableOpacity> \n            </View>\n            }\n        </View>\n        )\n    }\n    }\n         \n    const styles = StyleSheet.create({\n        container:{\n            flex: 1,\n        },\n        formContainer: {\n            paddingHorizontal: 10,\n            marginBottom: 20,\n            \n        },\n           field: {\n            height: 20,\n            paddingVertical: 15,\n            paddingHorizontal: 10,\n            borderWidth: 1,\n            borderColor:'#ccc',\n            borderStyle: 'solid',\n            borderRadius: 6,\n            marginVertical: 10,\n           },\n       boton:{\n        backgroundColor: '#28a745',\n        paddingHorizontal: 10,\n        paddingVertical: 6,\n        textAlign: 'center',\n        borderRadius: 4,\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: '#28a745',\n       },\n       textboton:{\n           color: '#fff',\n       },\n     }) \n\n     export default PostForm"]},"metadata":{},"sourceType":"module"}